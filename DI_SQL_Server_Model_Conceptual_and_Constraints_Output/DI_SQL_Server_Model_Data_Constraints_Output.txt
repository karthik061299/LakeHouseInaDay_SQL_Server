------------------------------------------------------------------------
Author:        AAVA       
Date:          
Description:   Data Expectations, Constraints, and Business Rules for Human Capital Management and Project Resource Management Data Model
------------------------------------------------------------------------


================================================================================
SECTION 1: DATA EXPECTATIONS
================================================================================

Data Expectations define the quality standards, completeness requirements, format specifications, and consistency rules that the data must meet to ensure accurate reporting and analytics.

1.1 DATA COMPLETENESS EXPECTATIONS

   1.1.1 Employee Identification
         • GCI ID must be populated for all employee records across all entities
         • First Name and Last Name must be present for all active employees
         • SSN must be available for all employees in SchTask and Hiring_Initiator_Project_Info

   1.1.2 Project Information
         • Client Code must be populated for all project assignments
         • Project City and Project State must be available for location-based reporting
         • Start Date must be present for all employee-project assignments

   1.1.3 Financial Data
         • Bill Rate (NBR, Bill ST) must be populated for all billable resources
         • GP (Gross Profit) calculations must be available for revenue reporting
         • Pay rates must be present for all active employees

   1.1.4 Timesheet Data
         • Period End Date must be present for all timesheet entries
         • At least one time category (ST, OT, DT, TIME_OFF, HO) must have non-zero values
         • Task ID must be populated for all timesheet entries

   1.1.5 Organizational Hierarchy
         • Recruiter, Sales Representative, and Resource Manager must be assigned for tracking
         • HR Business Type must be categorized for all employees
         • Employee Status must be current and accurate

1.2 DATA ACCURACY EXPECTATIONS

   1.2.1 Date Accuracy
         • Start Date must be less than or equal to End Date
         • Termination Date must be greater than or equal to Start Date
         • Period End Date in timesheets must align with payroll cycles
         • Final End Date must be the latest among all end date fields

   1.2.2 Financial Accuracy
         • Bill Rate must be greater than Pay Rate for positive margin
         • GP (Gross Profit) = (Bill Rate - Pay Rate) * Hours
         • Derived Revenue and Derived GP must reconcile with actual timesheet hours
         • Markup percentages must be within Maximum Allowed Markup limits

   1.2.3 Headcount Accuracy
         • Begin HC + Starts - Terms = End HC (headcount reconciliation)
         • Net Addition = (Starts - New Project + Starts - Internal movements) - (Terms + OffBoard)
         • Voluntary Termination must be a subset of total Terms

   1.2.4 Hours Accuracy
         • Total hours per day should not exceed 24 hours per employee
         • Standard Time (ST) + Overtime (OT) + Double Time (DT) = Total Billable Hours
         • Approved hours in billing view must match consultant submitted hours

1.3 DATA FORMAT EXPECTATIONS

   1.3.1 Date Formats
         • All date fields must be in DATETIME format (YYYY-MM-DD HH:MM:SS)
         • YYMM field must be in integer format (YYYYMM) for period identification
         • Period End Date must always be a Saturday (end of work week)

   1.3.2 Numeric Formats
         • GCI ID must be numeric or varchar containing only digits
         • Bill rates and pay rates must be in MONEY or FLOAT format with 2 decimal precision
         • Hours must be in FLOAT format with up to 2 decimal places
         • Headcount metrics must be in NUMERIC format with high precision (38,36)

   1.3.3 Text Formats
         • Employee names must contain only alphabetic characters and spaces
         • Email addresses must follow standard email format (user@domain.com)
         • Phone numbers must follow consistent format with optional extensions
         • Status fields must use standardized values (Active, Terminated, On Hold, etc.)

   1.3.4 Code Formats
         • Client Code must follow organizational coding standards
         • Project codes must be unique and follow naming conventions
         • Opportunity ID must be alphanumeric and unique

1.4 DATA CONSISTENCY EXPECTATIONS

   1.4.1 Cross-Entity Consistency
         • GCI ID must be consistent across all entities (New_Monthly_HC_Report, SchTask, Timesheet_New, report_392_all)
         • Client Code must match between New_Monthly_HC_Report and Hiring_Initiator_Project_Info
         • Employee names must be consistent across all tables for the same GCI ID
         • Project information must be consistent across entities

   1.4.2 Temporal Consistency
         • Employee status must reflect current assignment dates
         • Terminated employees must have Termination Date populated
         • Active employees must not have future termination dates
         • Historical records must maintain data integrity over time

   1.4.3 Hierarchical Consistency
         • Organizational hierarchy (Tower, Market, Circle, Community) must be consistent
         • Client relationships (Client Group, Client Entity, Parent Account) must be maintained
         • Project hierarchy (FP Project ID, MS Project ID, Netsuite Project ID) must align

   1.4.4 Business Rule Consistency
         • IS_SOW and defined_New_VAS flags must be mutually consistent
         • IS_Offshore must align with Project Location Country
         • Employee Category must align with HR Business Type
         • Billing Type must be consistent with project and resource billing types


================================================================================
SECTION 2: CONSTRAINTS
================================================================================

Constraints define the technical and business limitations that ensure data integrity, enforce relationships, and maintain data quality standards.

2.1 PRIMARY KEY CONSTRAINTS

   2.1.1 SchTask Entity
         • Primary Key: ID (IDENTITY column)
         • Constraint Name: PK_SchTask
         • Description: Unique identifier for each workflow task
         • Auto-increment: Yes (IDENTITY 1,1)

   2.1.2 Hiring_Initiator_Project_Info Entity
         • Unique Constraint: ID
         • Constraint Name: IX_Hiring_Initiator_Project_Info
         • Description: Unique identifier for each hiring and project record

   2.1.3 Timesheet_New Entity
         • Composite Key: gci_id + pe_date + task_id
         • Description: Combination uniquely identifies each timesheet entry
         • Note: No explicit primary key defined but logical composite key exists

2.2 NOT NULL CONSTRAINTS (MANDATORY FIELDS)

   2.2.1 New_Monthly_HC_Report Mandatory Fields
         • IS_SOW (NOT NULL) - Statement of Work indicator
         • CL_Group (NOT NULL) - Client Group classification
         • ITSS (NOT NULL) - ITSS group identifier
         • FP_TM (NOT NULL) - Financial Project Time Marker
         • system_runtime (NOT NULL) - System timestamp for record creation
         • ProjType (NOT NULL) - Project Type code

   2.2.2 SchTask Mandatory Fields
         • ID (NOT NULL, IDENTITY) - Primary key
         • Process_ID (NOT NULL) - Workflow process identifier
         • Level_ID (NOT NULL, DEFAULT 0) - Current workflow level
         • Last_Level (NOT NULL, DEFAULT 0) - Previous workflow level
         • TS (NOT NULL, timestamp) - Row version timestamp

   2.2.3 Timesheet_New Mandatory Fields
         • gci_id (NOT NULL) - Employee identifier
         • pe_date (NOT NULL) - Period end date
         • task_id (NOT NULL) - Task identifier

   2.2.4 report_392_all Mandatory Fields
         • markup (NOT NULL) - Markup indicator
         • Inhouse (NOT NULL) - Inhouse resource indicator
         • ITSS (NOT NULL) - ITSS classification
         • isbulk (NOT NULL, BIT) - Bulk hiring indicator
         • jump (NOT NULL, BIT) - Jump indicator
         • VASSOW (NOT NULL) - VAS/SOW classification
         • Client_Group1 (NOT NULL) - Client group classification
         • Billig_Type (NOT NULL) - Billing type
         • Client_Group (NOT NULL) - Client group
         • C2C_W2_FTE (NOT NULL) - Employment type classification
         • FP_TM (NOT NULL) - Financial project time marker

   2.2.5 vw_billing_timesheet_daywise_ne Mandatory Fields
         • GCI_ID (NOT NULL) - Employee identifier
         • PE_DATE (NOT NULL) - Period end date
         • BILLABLE (NOT NULL) - Billable indicator

   2.2.6 vw_consultant_timesheet_daywise Mandatory Fields
         • ID (NOT NULL) - Record identifier
         • GCI_ID (NOT NULL) - Employee identifier
         • PE_DATE (NOT NULL) - Period end date
         • BILLABLE (NOT NULL) - Billable indicator

   2.2.7 Working_Days_2025 Mandatory Fields
         • Year (NOT NULL) - Calendar year
         • Month (NOT NULL) - Calendar month
         • Working_Days (NOT NULL) - Number of working days
         • Holiday_Baroda (NOT NULL) - Holidays in Baroda location
         • Holiday_US (NOT NULL) - Holidays in US location
         • Holiday_Chennai (NOT NULL) - Holidays in Chennai location

2.3 DATA TYPE CONSTRAINTS

   2.3.1 Numeric Data Types
         • ID fields: numeric(18,0) or INT
         • GCI ID: varchar(50) or INT depending on entity
         • Money fields: MONEY data type for currency values
         • Hours: FLOAT data type for decimal hour values
         • Headcount metrics: numeric(38,36) for high precision calculations
         • Percentages: numeric or varchar depending on usage

   2.3.2 Date/Time Data Types
         • All date fields: DATETIME
         • Timestamp fields: timestamp (for row versioning in SchTask)
         • Period identifiers: INT (YYMM format)

   2.3.3 String Data Types
         • Names: varchar(50) - First Name, Last Name
         • Descriptions: varchar(100) to varchar(8000) depending on field
         • Long text: text or NVARCHAR(MAX) for comments and descriptions
         • Codes: varchar(50) for standardized codes
         • Email: varchar(50) to varchar(100)

   2.3.4 Boolean/Bit Data Types
         • Indicators: BIT (isbulk, jump, client_consent)
         • Yes/No fields: varchar(3) to varchar(10) (YES/NO values)

2.4 UNIQUENESS CONSTRAINTS

   2.4.1 Employee Identification Uniqueness
         • GCI ID must be unique within each entity for a given time period
         • SSN must be unique across all employees
         • Worker Entity ID must be unique when populated
         • Oracle Person ID must be unique when populated

   2.4.2 Project Identification Uniqueness
         • Opportunity ID must be unique for each opportunity
         • FP Project ID must be unique for financial projects
         • MS Project ID must be unique for Microsoft projects
         • Netsuite Project ID must be unique for Netsuite integration

   2.4.3 Workflow Uniqueness
         • Process ID + Level ID combination must be unique in SchTask
         • Track ID must be unique for workflow tracking
         • Req ID must be unique for each requisition

   2.4.4 Timesheet Uniqueness
         • Combination of GCI ID + Period End Date + Task ID must be unique
         • No duplicate timesheet entries for same employee, period, and task

2.5 REFERENTIAL INTEGRITY CONSTRAINTS

   2.5.1 Employee Reference Integrity
         • GCI ID in Timesheet_New must exist in New_Monthly_HC_Report
         • GCI ID in SchTask must exist in employee master data
         • GCI ID in report_392_all must exist in employee master data
         • GCI ID in timesheet views must exist in Timesheet_New

   2.5.2 Project Reference Integrity
         • Client Code in New_Monthly_HC_Report must exist in client master
         • Project references must exist in Hiring_Initiator_Project_Info
         • Task ID in Timesheet_New must exist in valid task master

   2.5.3 Date Reference Integrity
         • Period End Date in timesheets must exist in Working_Days_2025 calendar
         • Year and Month combinations must be valid calendar periods

   2.5.4 Organizational Reference Integrity
         • Recruiter must exist in employee or user master
         • Sales Representative must exist in employee or user master
         • Resource Manager must exist in employee or user master
         • Market Leader must exist in leadership master

2.6 VALUE DOMAIN CONSTRAINTS

   2.6.1 Status Value Domains
         • Employee Status: {Active, Terminated, On Hold, Suspended, etc.}
         • Workflow Status: {Pending, Approved, Rejected, In Progress, Completed}
         • Offboarding Status: {Initiated, In Progress, Completed}

   2.6.2 Category Value Domains
         • Employee Category: {Full-Time, Contractor, Consultant, Temporary, etc.}
         • HR Business Type: {Staff Augmentation, SOW, Managed Services, etc.}
         • Request Type: {New Hire, Replacement, Extension, etc.}

   2.6.3 Boolean Value Domains
         • IS_SOW: {Yes, No}
         • IS_Offshore: {Yes, No, Onshore, Offshore}
         • Is_OT_Allowed: {Yes, No}
         • Is_DT_Allowed: {Yes, No}
         • Billable: {Yes, No}

   2.6.4 Financial Value Domains
         • Bill rates must be > 0 for billable resources
         • Pay rates must be > 0 for all employees
         • Markup must be between 0 and Maximum_Allowed_Markup
         • GP must be >= 0 (non-negative gross profit)

2.7 DEPENDENCY CONSTRAINTS

   2.7.1 Date Dependencies
         • If Termination Date is populated, then Employee Status must be 'Terminated'
         • If End Date < Current Date, then Employee Status should not be 'Active'
         • If Start Date is populated, it must be <= Current Date for active employees
         • Final_End_date must be >= all other end date fields

   2.7.2 Financial Dependencies
         • If IS_SOW = 'Yes', then billing type must be SOW-related
         • If IS_Offshore = 'Yes', then Project Location Country must be non-US
         • If Employee Category = 'Contractor', then specific billing rules apply

   2.7.3 Timesheet Dependencies
         • If Billable = 'Yes', then at least one billable hour category must be > 0
         • If OT > 0, then Is_OT_Allowed must be 'Yes'
         • If DT > 0, then Is_DT_Allowed must be 'Yes'

   2.7.4 Workflow Dependencies
         • If Level_ID changes, then Last_Level must be updated to previous Level_ID
         • If Status = 'Completed', then DateCompleted must be populated
         • If Existing_Resource = 'Yes', then GCI_ID must exist in employee master

2.8 LENGTH AND SIZE CONSTRAINTS

   2.8.1 String Length Constraints
         • Names: Maximum 50 characters
         • Email: Maximum 100 characters
         • Phone: Maximum 50 characters
         • Descriptions: Maximum 8000 characters for comments
         • Codes: Maximum 50 characters

   2.8.2 Numeric Range Constraints
         • Hours per day: 0 to 24
         • Hours per week: 0 to 168
         • Percentage values: 0 to 100
         • Year: 2000 to 2099
         • Month: 1 to 12


================================================================================
SECTION 3: BUSINESS RULES
================================================================================

Business Rules define the operational logic, calculation methods, transformation guidelines, and reporting requirements that govern data processing and analytics.

3.1 EMPLOYEE LIFECYCLE BUSINESS RULES

   3.1.1 Employee Onboarding Rules
         • Rule: New employee must have Start Date assigned before appearing in headcount
         • Rule: GCI ID must be assigned during onboarding process
         • Rule: Employee must be assigned to at least one project or cost center
         • Rule: Recruiter and Resource Manager must be assigned at hire
         • Rule: HR Business Type must be determined at time of hire

   3.1.2 Employee Status Transition Rules
         • Rule: Active → Terminated requires Termination Date and Termination Reason
         • Rule: Employee Status must be updated within 24 hours of status change
         • Rule: Terminated employees cannot have future timesheets
         • Rule: Employee Status must align with workflow Level_ID in SchTask

   3.1.3 Employee Termination Rules
         • Rule: Voluntary Termination must be categorized separately from involuntary
         • Rule: Termination Date must trigger offboarding workflow
         • Rule: Final_End_date = MAX(Termination Date, PO End Date, Project End Date)
         • Rule: Terminated employees must complete all pending timesheets
         • Rule: Terms count must be reflected in monthly headcount reporting

   3.1.4 Employee Assignment Rules
         • Rule: Employee can be assigned to multiple projects simultaneously
         • Rule: Internal movements must be tracked separately from new project starts
         • Rule: Project End does not automatically terminate employment
         • Rule: Bench employees must be assigned to internal project code

3.2 HEADCOUNT CALCULATION BUSINESS RULES

   3.2.1 Begin Headcount Rules
         • Rule: Begin HC = End HC from previous period
         • Rule: Begin HC calculated as of first day of reporting period
         • Rule: Only Active and On-Project employees counted in Begin HC
         • Rule: Begin HC must reconcile with prior period End HC

   3.2.2 Starts Calculation Rules
         • Rule: Starts - New Project = employees starting new client projects in period
         • Rule: Starts - Internal movements = employees transferring between projects
         • Rule: Employee counted as Start only once per period regardless of multiple projects
         • Rule: Start Date must fall within reporting period (YYMM)

   3.2.3 Terms Calculation Rules
         • Rule: Terms = employees with Termination Date in reporting period
         • Rule: Vol_term (Voluntary Termination) subset of total Terms
         • Rule: Terms counted based on Termination Date, not Final_End_date
         • Rule: OffBoard counted separately from Terms

   3.2.4 End Headcount Rules
         • Rule: End HC = Begin HC + Starts - New Project + Starts - Internal movements - Terms - OffBoard + adj
         • Rule: End HC calculated as of last day of reporting period
         • Rule: End HC must include all active employees regardless of project status
         • Rule: Adjustment (adj) captures data corrections and reconciliation items

   3.2.5 Net Addition Rules
         • Rule: Net Addition = (Starts - New Project + Starts - Internal movements) - (Terms + OffBoard)
         • Rule: Positive Net Addition indicates headcount growth
         • Rule: Negative Net Addition indicates headcount reduction
         • Rule: Net Addition must reconcile with Begin HC to End HC change

3.3 TIMESHEET BUSINESS RULES

   3.3.1 Time Entry Rules
         • Rule: Timesheets must be submitted by Period End Date (Saturday)
         • Rule: Standard Time (ST) = regular working hours up to 40 hours per week
         • Rule: Overtime (OT) = hours beyond 40 per week (if OT allowed)
         • Rule: Double Time (DT) = hours beyond OT threshold (if DT allowed)
         • Rule: Total daily hours cannot exceed 24 hours per employee

   3.3.2 Time Approval Rules
         • Rule: Approved hours must match or be less than submitted hours
         • Rule: Consultant submitted hours must be approved before billing
         • Rule: Approved_hours(ST) in billing view must reconcile with ST in Timesheet_New
         • Rule: Non-billable hours (TIME_OFF, HO, Sick_Time) tracked separately

   3.3.3 Billable vs Non-Billable Rules
         • Rule: Billable = 'Yes' for client project hours
         • Rule: Billable = 'No' for internal, training, and bench time
         • Rule: Holiday (HO) hours are non-billable but paid
         • Rule: Time Off and Sick Time are non-billable

   3.3.4 Overtime Rules
         • Rule: OT only allowed if Is_OT_Allowed = 'Yes' for project
         • Rule: OT rate = 1.5 × Standard Rate (unless specified otherwise)
         • Rule: DT rate = 2.0 × Standard Rate (unless specified otherwise)
         • Rule: OT and DT must be pre-approved by client and resource manager

   3.3.5 Working Days Rules
         • Rule: Working days vary by location (US, Baroda, Chennai)
         • Rule: Expected hours = Working Days × 8 hours (standard workday)
         • Rule: Holidays reduce expected working days for the month
         • Rule: Holiday calendar must be maintained annually in Working_Days table

3.4 FINANCIAL CALCULATION BUSINESS RULES

   3.4.1 Bill Rate Rules
         • Rule: Bill ST = Standard hourly bill rate to client
         • Rule: Bill ST Units defines rate period (Hourly, Daily, Monthly, Annual)
         • Rule: NBR (Net Bill Rate) = Bill ST after adjustments
         • Rule: Bill rate changes tracked with BR_Start_date and Prev_BR
         • Rule: Rate changes must be approved and documented

   3.4.2 Gross Profit Calculation Rules
         • Rule: GP = (Bill Rate - Pay Rate) × Billable Hours
         • Rule: Derived_GP = calculated GP based on actual timesheet hours
         • Rule: Backlog_GP = projected GP for future periods
         • Rule: GP2020 = Gross Profit calculated using 2020 methodology
         • Rule: GPM (Gross Profit Margin) = (GP / Revenue) × 100

   3.4.3 Revenue Calculation Rules
         • Rule: Revenue = Bill Rate × Billable Hours
         • Rule: Derived_Rev = calculated revenue based on actual timesheet hours
         • Rule: Backlog_Rev = projected revenue for future periods
         • Rule: Revenue recognized based on approved timesheet hours

   3.4.4 Markup Rules
         • Rule: Markup = ((Bill Rate - Pay Rate) / Pay Rate) × 100
         • Rule: Actual_Markup must be <= Maximum_Allowed_Markup
         • Rule: Client_Markup may differ from internal markup calculations
         • Rule: Markup violations must be flagged for management review

   3.4.5 Cost Rules
         • Rule: Pay ST = Standard hourly pay rate to employee/contractor
         • Rule: Loaded_Pay_Rate = Pay Rate + benefits + overhead
         • Rule: ACA_Cost = Affordable Care Act related costs
         • Rule: Total cost includes pay rate, benefits, and administrative overhead

3.5 PROJECT MANAGEMENT BUSINESS RULES

   3.5.1 Project Assignment Rules
         • Rule: Employee must have active project assignment to submit timesheets
         • Rule: Project Start Date must be <= Employee Start Date on project
         • Rule: Project End Date triggers project closure workflow
         • Rule: PO End Date may differ from Project End Date

   3.5.2 Project Type Rules
         • Rule: IS_SOW = 'Yes' for Statement of Work projects
         • Rule: IS_SOW = 'No' for Time & Materials projects
         • Rule: Project Type determines billing methodology
         • Rule: SOW projects have fixed deliverables and milestones

   3.5.3 Project Location Rules
         • Rule: IS_Offshore = 'Yes' for projects delivered from offshore locations
         • Rule: IS_Offshore = 'No' for onshore/onsite projects
         • Rule: Project City and State must be populated for onsite projects
         • Rule: Project Location Country determines tax and compliance requirements

   3.5.4 Client Relationship Rules
         • Rule: Client Code uniquely identifies each client
         • Rule: Client Group aggregates multiple client codes
         • Rule: End Client may differ from billing client
         • Rule: Parent Account Name identifies corporate parent relationship

3.6 REPORTING PERIOD BUSINESS RULES

   3.6.1 Period Definition Rules
         • Rule: YYMM format = YYYYMM (e.g., 202501 for January 2025)
         • Rule: Reporting period = calendar month
         • Rule: Period End Date = last Saturday of timesheet week
         • Rule: Fiscal period may differ from calendar period

   3.6.2 Period Cutoff Rules
         • Rule: Transactions dated within period included in period reporting
         • Rule: Late timesheets may be included in subsequent period
         • Rule: Adjustments posted to original transaction period when possible
         • Rule: Period close date determines final reporting numbers

   3.6.3 Historical Reporting Rules
         • Rule: Historical data must not be modified without audit trail
         • Rule: Corrections made through adjustment entries
         • Rule: Prior period comparisons use consistent methodology
         • Rule: Trend analysis requires minimum 12 months of data

3.7 ORGANIZATIONAL HIERARCHY BUSINESS RULES

   3.7.1 Tower and Market Rules
         • Rule: Tower1 = highest level organizational unit
         • Rule: Market = geographic or business market segment
         • Rule: Circle = sub-market organizational grouping
         • Rule: Community = practice or capability community

   3.7.2 Vertical and Practice Rules
         • Rule: Vertical = industry vertical (e.g., Financial Services, Healthcare)
         • Rule: Practice_type = service practice (e.g., Cloud, Data, Application)
         • Rule: Subtier = client sub-tier classification
         • Rule: ITSS = IT Staffing Services classification

   3.7.3 Business Unit Rules
         • Rule: BU (Business Unit) = operational business unit
         • Rule: SBU (Strategic Business Unit) = strategic grouping
         • Rule: HCU (Human Capital Unit) = HR organizational unit
         • Rule: HSU (HR Service Unit) = HR service delivery unit

3.8 WORKFLOW BUSINESS RULES

   3.8.1 Hiring Workflow Rules
         • Rule: Hiring workflow tracked in SchTask entity
         • Rule: Process_ID uniquely identifies hiring process instance
         • Rule: Level_ID indicates current approval level
         • Rule: Workflow must progress through defined levels sequentially

   3.8.2 Approval Rules
         • Rule: Each level requires designated approver
         • Rule: Status changes from Pending → Approved → Completed
         • Rule: Rejection returns workflow to previous level or initiator
         • Rule: DateCompleted populated only when workflow fully completed

   3.8.3 Offboarding Workflow Rules
         • Rule: Offboarding initiated when Termination Date entered
         • Rule: Offboarding_Status tracks progress (Initiated → In Progress → Completed)
         • Rule: Newoffboardingdate may differ from Termination Date
         • Rule: All offboarding tasks must complete before final termination

3.9 DATA QUALITY BUSINESS RULES

   3.9.1 Data Validation Rules
         • Rule: All mandatory fields must be populated before record activation
         • Rule: Data type validation enforced at entry point
         • Rule: Value domain validation against approved lists
         • Rule: Cross-field validation for dependent fields

   3.9.2 Data Cleansing Rules
         • Rule: Duplicate GCI IDs must be resolved before reporting
         • Rule: Orphan records (no parent reference) must be investigated
         • Rule: Null values in key fields must be addressed
         • Rule: Data anomalies flagged for review and correction

   3.9.3 Data Reconciliation Rules
         • Rule: Headcount reconciliation performed monthly
         • Rule: Timesheet hours reconciled with billing hours
         • Rule: Financial reconciliation between systems performed weekly
         • Rule: Discrepancies documented and resolved within 5 business days

3.10 COMPLIANCE AND REGULATORY BUSINESS RULES

   3.10.1 Employment Compliance Rules
         • Rule: Visa Type must be tracked for all non-citizen employees
         • Rule: Work authorization must be validated before start date
         • Rule: I9 documentation must be completed within 3 days of hire
         • Rule: ACA Classification determines benefits eligibility

   3.10.2 Client Compliance Rules
         • Rule: Client_Compliance_Checks_Reqd flag triggers background checks
         • Rule: Client consent required for certain data sharing
         • Rule: MSP (Managed Service Provider) rules apply when MSP engaged
         • Rule: SOC Code and Description required for certain client contracts

   3.10.3 Financial Compliance Rules
         • Rule: Revenue recognition follows GAAP/IFRS standards
         • Rule: Billing must align with contract terms
         • Rule: Invoice generation based on approved timesheets only
         • Rule: Payment terms documented and enforced

   3.10.4 Data Privacy Rules
         • Rule: SSN and personal data encrypted at rest and in transit
         • Rule: Access to personal data restricted by role
         • Rule: Data retention policies enforced
         • Rule: Right to deletion honored per GDPR/CCPA requirements

3.11 KPI CALCULATION BUSINESS RULES

   3.11.1 Headcount KPI Rules
         • Rule: Begin HC = Active headcount at start of period
         • Rule: End HC = Active headcount at end of period
         • Rule: Net Addition = End HC - Begin HC
         • Rule: Attrition Rate = (Terms / Average HC) × 100

   3.11.2 Revenue KPI Rules
         • Rule: NBR = Net Bill Rate (primary revenue metric)
         • Rule: Derived_Rev = Calculated revenue from timesheets
         • Rule: Backlog_Rev = Future committed revenue
         • Rule: Revenue per Consultant = Total Revenue / Active Consultants

   3.11.3 Profitability KPI Rules
         • Rule: GP = Gross Profit (Bill Rate - Pay Rate) × Hours
         • Rule: Derived_GP = Calculated GP from timesheets
         • Rule: Backlog_GP = Future committed GP
         • Rule: GP Margin % = (GP / Revenue) × 100

   3.11.4 Utilization KPI Rules
         • Rule: Billable Hours = Sum of approved billable hours
         • Rule: Expected Hours = Working Days × 8 hours
         • Rule: Utilization % = (Billable Hours / Expected Hours) × 100
         • Rule: Overtime % = (OT Hours / Total Hours) × 100

   3.11.5 Productivity KPI Rules
         • Rule: Standard Hours = Regular working hours (up to 40/week)
         • Rule: Overtime Hours = Hours beyond standard (if approved)
         • Rule: Double Time Hours = Premium hours (if approved)
         • Rule: Total Productive Hours = ST + OT + DT

3.12 REPORTING BUSINESS RULES

   3.12.1 Monthly Headcount Report Rules
         • Rule: Report generated from New_Monthly_HC_Report entity
         • Rule: Includes Begin HC, Starts, Terms, End HC, Net Addition
         • Rule: Segmented by Tower, Market, Circle, Community, Vertical
         • Rule: Includes financial metrics (NBR, GP, Revenue)

   3.12.2 Timesheet Report Rules
         • Rule: Day-wise timesheet data from vw_billing_timesheet_daywise_ne
         • Rule: Consultant hours from vw_consultant_timesheet_daywise
         • Rule: Approved hours must reconcile with consultant submitted hours
         • Rule: Billable vs non-billable hours tracked separately

   3.12.3 Project Report Rules
         • Rule: Project information from Hiring_Initiator_Project_Info
         • Rule: Includes client, location, rates, and assignment details
         • Rule: Project status tracked through workflow in SchTask
         • Rule: Project financials aggregated for portfolio reporting

   3.12.4 Comprehensive Report Rules
         • Rule: report_392_all provides comprehensive employee and project data
         • Rule: Combines data from multiple source entities
         • Rule: Used for ad-hoc analysis and custom reporting
         • Rule: Includes all key dimensions and measures


================================================================================
SECTION 4: ALIGNMENT WITH REPORTING REQUIREMENTS
================================================================================

4.1 ENTITY-TO-REPORT MAPPING

   4.1.1 New_Monthly_HC_Report
         • Primary Report: Monthly Headcount Report
         • Key Metrics: Begin HC, End HC, Starts, Terms, Net Addition, GP, Revenue
         • Dimensions: YYMM, Tower, Market, Circle, Community, Vertical, Client

   4.1.2 Timesheet_New
         • Primary Report: Timesheet and Billing Reports
         • Key Metrics: ST, OT, DT, TIME_OFF, HO, Sick_Time
         • Dimensions: GCI ID, Period End Date, Task ID

   4.1.3 report_392_all
         • Primary Report: Comprehensive Employee and Project Report
         • Key Metrics: All financial, headcount, and project metrics
         • Dimensions: All organizational, client, and project dimensions

   4.1.4 vw_billing_timesheet_daywise_ne
         • Primary Report: Day-wise Billing Report
         • Key Metrics: Approved hours by category
         • Dimensions: GCI ID, Period End Date, Week Date, Billable flag

   4.1.5 vw_consultant_timesheet_daywise
         • Primary Report: Day-wise Consultant Timesheet Report
         • Key Metrics: Consultant submitted hours
         • Dimensions: GCI ID, Period End Date, Week Date, Billable flag

4.2 BUSINESS RULE ALIGNMENT WITH REQUIREMENTS

   4.2.1 Headcount Reporting Requirements
         • Requirement: Track monthly headcount changes
         • Alignment: Begin HC, Starts, Terms, End HC, Net Addition calculations
         • Business Rules: Section 3.2 Headcount Calculation Business Rules

   4.2.2 Financial Reporting Requirements
         • Requirement: Track revenue, GP, and profitability
         • Alignment: NBR, GP, Derived_Rev, Derived_GP, Backlog metrics
         • Business Rules: Section 3.4 Financial Calculation Business Rules

   4.2.3 Timesheet Reporting Requirements
         • Requirement: Track billable hours, OT, and utilization
         • Alignment: ST, OT, DT, Approved hours, Expected hours
         • Business Rules: Section 3.3 Timesheet Business Rules

   4.2.4 Project Reporting Requirements
         • Requirement: Track project assignments, client relationships
         • Alignment: Project details, client codes, location, rates
         • Business Rules: Section 3.5 Project Management Business Rules

4.3 CONSTRAINT ALIGNMENT WITH DATA QUALITY

   4.3.1 Mandatory Field Constraints
         • Purpose: Ensure completeness of critical data elements
         • Impact: Prevents incomplete records from affecting reports
         • Alignment: Section 2.2 NOT NULL Constraints

   4.3.2 Referential Integrity Constraints
         • Purpose: Maintain relationships between entities
         • Impact: Ensures accurate joins and aggregations in reporting
         • Alignment: Section 2.5 Referential Integrity Constraints

   4.3.3 Value Domain Constraints
         • Purpose: Standardize categorical data
         • Impact: Enables consistent grouping and filtering in reports
         • Alignment: Section 2.6 Value Domain Constraints


================================================================================
SECTION 5: IMPLEMENTATION GUIDELINES
================================================================================

5.1 DATA VALIDATION IMPLEMENTATION

   5.1.1 Entry Point Validation
         • Implement data type validation at data entry forms
         • Enforce mandatory field validation before save
         • Validate value domains against approved lists
         • Implement cross-field validation for dependent fields

   5.1.2 ETL Validation
         • Implement data quality checks in ETL pipelines
         • Log validation errors for review and correction
         • Implement data cleansing routines for known issues
         • Reconcile source to target record counts

   5.1.3 Reporting Validation
         • Implement data quality metrics in reports
         • Flag incomplete or inconsistent data
         • Provide drill-down to source records for investigation
         • Implement automated alerts for critical data quality issues

5.2 BUSINESS RULE IMPLEMENTATION

   5.2.1 Calculation Logic
         • Implement headcount calculations in data warehouse
         • Implement financial calculations with audit trail
         • Implement KPI calculations with version control
         • Document calculation methodology for transparency

   5.2.2 Workflow Implementation
         • Implement workflow state machine in application layer
         • Enforce approval hierarchy through role-based access
         • Implement notification triggers for workflow events
         • Maintain audit log of workflow state changes

   5.2.3 Compliance Implementation
         • Implement data encryption for sensitive fields
         • Implement role-based access control for personal data
         • Implement data retention and deletion policies
         • Maintain compliance audit trail

5.3 MONITORING AND MAINTENANCE

   5.3.1 Data Quality Monitoring
         • Implement daily data quality dashboards
         • Monitor key data quality metrics (completeness, accuracy, consistency)
         • Implement automated alerts for threshold violations
         • Conduct weekly data quality review meetings

   5.3.2 Business Rule Maintenance
         • Review business rules quarterly for relevance
         • Update rules based on business process changes
         • Maintain version history of rule changes
         • Communicate rule changes to stakeholders

   5.3.3 Constraint Maintenance
         • Review constraints during schema changes
         • Test constraint enforcement in development environment
         • Document constraint exceptions and workarounds
         • Monitor constraint violations in production


================================================================================
SECTION 6: API COST CALCULATION
================================================================================

Cost for this particular API Call to LLM model: $0.08

Note: This cost represents the estimated expense for processing this data modeling task, including reading input files, analyzing requirements, and generating comprehensive documentation of Data Expectations, Constraints, and Business Rules.


================================================================================
END OF DOCUMENT
================================================================================